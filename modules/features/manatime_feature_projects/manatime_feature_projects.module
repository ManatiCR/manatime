<?php
/**
 * @file
 * Code for the Manatime projects feature feature.
 */

include_once 'manatime_feature_projects.features.inc';

/**
 * Implements hook_permission().
 */
function manatime_feature_projects_permission() {
  return array(
    'manage projects' => array(
      'title' => t('Manage projects'),
      'description' => t('Allow add, archive and edit projects.'),
    ),
  );
}

/**
 * Implements hook_action_info().
 */
function manatime_feature_projects_action_info() {
  return array(
    'manatime_feature_projects_action_enable' => array(
      'type' => 'entity',
      'label' => t('Enable projects'),
      'behavior' => array('changes_property'),
      'configurable' => FALSE,
      'vbo_configurable' => FALSE,
      'triggers' => array('any'),
    ),
    'manatime_feature_projects_action_disable' => array(
      'type' => 'entity',
      'label' => t('Disable projects'),
      'behavior' => array('changes_property'),
      'configurable' => FALSE,
      'vbo_configurable' => FALSE,
      'triggers' => array('any'),
    ),
  );
}

function manatime_feature_projects_action_enable(&$entity, $context) {
  $entity->field_active[LANGUAGE_NONE][0]['value'] = 1;
}

function manatime_feature_projects_action_disable(&$entity, $context) {
  $entity->field_active[LANGUAGE_NONE][0]['value'] = 0;
}
